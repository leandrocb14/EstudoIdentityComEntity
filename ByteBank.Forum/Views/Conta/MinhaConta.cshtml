@model ByteBank.Forum.ViewModels.ContaMinhaContaViewModel

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Minha conta</h2>

@using (Html.BeginForm("EsquecerNavegador", "Conta", FormMethod.Post, new { id = "formulario_esquecer_navegador" }))
{

}

@using (Html.BeginForm("DeslogarDeTodosOsLocais", "Conta", FormMethod.Post, new { id = "formulario_deslogar_de_todos_os_locais" }))
{

}

@using (Html.BeginForm())
{
    @Html.ValidationSummary()
    @Html.LabelFor(m => m.NomeCompleto)
    <br />
    @Html.EditorFor(m => m.NomeCompleto)
    <br />
    @Html.LabelFor(m => m.NumeroDeCelular)
    <br />
    @Html.EditorFor(m => m.NumeroDeCelular)
    <br />
    if (Model.NumeroDeCelularConfirmado)
    {
        @Html.LabelFor(m => m.HabilitarAutenticacaoDeDoisFatores)
        <br />
        @Html.EditorFor(m => m.HabilitarAutenticacaoDeDoisFatores)
        <br />

        <a href="javascript:document.getElementById('formulario_esquecer_navegador').submit()"> Esquecer este navegador </a>

    }
    else
    {
        <p>* Informe e confirme seu número de celular para habilitar a autenticação com 2 fatores!</p>

        @Html.ActionLink("Clique aqui para verificar o token recebido!", "VerificacaoCodigoCelular")
    }

    <br />

    <a href="javascript:document.getElementById('formulario_deslogar_de_todos_os_locais').submit()"> Deslogar de todos os locais </a>

    <br />

    <input type="submit" value="Salvar" class="btn btn-default" />
}